2006-01-28  Derek Atkins  <derek@ihtfp.com>

	* src/business/business-core/file/gnc-owner-xml-v2.c:
	  GncOwner is not a QOF_INSTANCE.  Get the GUID correctly.
	  Fixes part of #328790 (but not all of it).

2006-01-28  Christian Stimming  <stimming@tuhh.de>

	* configure.in: For HBCI, require aqbanking >= 1.3.0 (released
	2005-08-11) since current aqbanking is beyond 1.9.x and those
	really old versions had to deal with very different packaging
	structure.

2006-01-27  David Hampton  <hampton@employees.org>

	* src/scm/printing/print-check.scm:
	* src/gnome/glade/print.glade:
	* src/gnome/dialog-print-check.c: Add translation and rotation to
	the custom printing page.  Modify the code so that only the custom
	widgets that have an effect for the current setting are sensitive.

2006-01-27  Derek Atkins  <derek@ihtfp.com>

	Get "make distcheck" to work....
	* src/import-export/test/Makefile.am:
	  Added src/scm directory to test environment
	* lib/goffice-0.0.4/Makefile.am:
	  Don't install libgoffice-1.pc, but distribute it
	* lib/libgsf-1.12.3/tests/Makefile.am:
	  Link to the proper location of libgsf-1.la
	* lib/libgsf-1.12.3/Makefile.am:
	  Don't install the gsf .pc files, but distribute them.
	* lib/Makefile.am:
	  Use DIST_SUBDIRS to distribute qof, gsf, and goffice
	* configure.in:
	  fix QOF_LIBS to use builddir, not srcdir
	* Makefile.am:
	  add po/POTFILES.in to the dist
	  link gsf into the srcdir, not the builddir
	* src/report/report-system/Makefile.am:
	  make sure we distribute gw-report-system.h
	* src/bin/Makefile.am:
	  clean i18n.h in distclean

2006-01-26  David Hampton  <hampton@employees.org>

	* configure.in: Default the --enable-compile-warnings argument to
	yes.

	* src/gnome/window-reconcile.c:
	* src/gnome/glade/tax.glade:
	* src/gnome/glade/reconcile.glade:
	* src/gnome/dialog-tax-info.c: More HIG changes.

	* src/report/report-system/gnc-report.[ch]:
	* src/report/report-gnome/window-report.[ch]:
	* src/gnome/top-level.c: Fix compilation warnings.

2006-01-26  Derek Atkins  <derek@ihtfp.com>

	* configure.in: fail if we find libgsf >= 1.12.2 but not libgsf-gnome.
	  This is instead of configure succeeding and then failing the
	  build later.

2006-01-24  Christian Stimming  <stimming@tuhh.de>

	* src/import-export/hbci/gnc-hbci-gettrans.h: Factor out importing
	functions that might be useful for mt940 importer.

	* src/import-export/hbci/gnc-hbci-transfer.c: Fix wrong amount
	sign.

2006-01-23  Derek Atkins  <derek@ihtfp.com>

	* src/engine/test/Makefile.am: add explicit libdep on libcore-utils.la

2006-01-23  Neil Williams <linux@codehelp.co.uk>

	* src/engine/Transaction.c : Let the backend
	work with splits without checking for the parent Trans
	* src/gnome/glade/chart-export.glade : glade-fixup change.
	* src/gnome/glade/merge.glade : Reviewed for QSF Import usage
	* src/gnome/druid-merge.c : Fix QSF import and merge, closes
	[Bug 327640]. r12961. 
	* src/gnome/druid-merge.h : Remove unneeded function.
	* src/gnome/druid-hierarchy.c : Expand on the error message,
	should it still be required.
	* configure.in : Increase QOF dependency to the next release
	to ensure compatibility.

2006-01-23  Neil Williams <linux@codehelp.co.uk>

	* lib/libqof/backend/file/qsf-backend.c : Prevent 
	bad time values from being passed to entity.
	* lib/libqof/qof/qof_book_merge.c : Fix merge 
	handling of QOF_TYPE_CHAR to use gchar instead of 
	casting	from a gchar*
	* lib/libqof/qof/qof_book_merge.h : Use gchar 
	consistently instead of mixing with char.

r12964 | chris | 2006-01-23 14:29:57 -0500 (Mon, 23 Jan 2006) | 5 lines

   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/gnucash-bin.c

  Avoid GUI initialization durring --add-price-quotes, fixes #327670

  BTW, it turns out that we don't need to call gtk_init().  It's called 
  during the LIBGNOMEUI_MODULE initializtion from gnome_program_init().

r12956 | chris | 2006-01-23 12:38:13 -0500 (Mon, 23 Jan 2006) | 28 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/gnome/Makefile.am
   M /gnucash/trunk/src/gnome/gw-gnc-spec.scm
   M /gnucash/trunk/src/gnome/top-level.c
   M /gnucash/trunk/src/gnome/top-level.h
   M /gnucash/trunk/src/scm/Makefile.am
   M /gnucash/trunk/src/scm/build-config.scm.in
   M /gnucash/trunk/src/scm/main-window.scm
   M /gnucash/trunk/src/scm/main.scm

  Major step in extraction of application startup from guile.

  Details:
    Remove the last bits of libguile from top-level.[ch].
    Change the gui initialization funtions so they can be called from C.
    Drop some gwrappers for gui initialization functions.
    Process the --nofile and filename command-line options from C.
    Drastic simpilification of main.scm.
    Initialize the gui and enter the gtk event-loop from C.

  Even though there's some more clean-up to do, this patch does mark
  a certain milestone:  A developer seeking to understand and/or modify 
  GnuCash's startup process can now essentially ignore the guile portion.
  Most parts of our startup now look pretty typical for a gnome-2 app.
  The parts that remain firmly in guile are initialization of the report
  menus and the installation of price-quote sources.

  Caveat: We have multiple mechanisms for handling the filename
  argument string -- some in guile and some in C.  The C-side mechanisms
  (in engine/gnc-filepath-utils.c) seem a little nicer than the guile
  ones (in main.scm).  They have slightly different behavior (e.g. which
  paths they'll search for data files.)  They both handle URIs and
  making absolute paths out of relative ones.  This patch switches from
  using the guile functions to the C function.  I've tested that the common
  cases are handled the same way, but it wouldn't surprise me if some 
  corner-cases are not.


r12948 | chris | 2006-01-22 22:56:10 -0500 (Sun, 22 Jan 2006) | 2 lines

   M /gnucash/trunk/src/scm/main.scm

  Remove "batch-mode" processing from main.scm.  It's no longer needed.

r12947 | chris | 2006-01-22 22:43:55 -0500 (Sun, 22 Jan 2006) | 3 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/command-line.scm
   M /gnucash/trunk/src/scm/main.scm

  Remove --devel option, which aparently doesn't do anything.
  Also remove now unused guile portion of --add-price-quote option.

r12946 | chris | 2006-01-22 22:26:01 -0500 (Sun, 22 Jan 2006) | 18 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/main.scm
   M /gnucash/trunk/src/scm/price-quotes.scm

  Process the --add-price-quotes command-line option from C.
  This is done by booting guile with a custom inner_main.
  Much of the work is still handled by price-quotes.scm, which
  is now a true stand-alone guile module without the circular dependency
  on the (gnucash main) module.

  One caveat:  Since the initialization of guile-side debugging variables 
  is in main.scm, and since main.scm is no longer executed when running
  --add-price-quotes, the guile code that runs during --add-price-quote
  isn't affected by the --debug option.  A work-around is to use the 
  GNC_DEBUG environment variable: 
    $ GNC_DEBUG=yes gnucash --add-price-quote myfile

  In the longer term, we'll either move the debugging aids to a common place
  where it can be used by both main.scm and price-quotes.scm, or we'll get
  the debugging state from the C-side via gwrap.
 

r12945 | chris | 2006-01-22 22:12:27 -0500 (Sun, 22 Jan 2006) | 3 lines

   M /gnucash/trunk/src/gnome-utils/gnc-gnome-utils.c
   M /gnucash/trunk/src/gnome-utils/gnc-gnome-utils.h
   M /gnucash/trunk/src/gnome-utils/gw-gnome-utils-spec.scm

  Introduced gwrapped gnc_gnome_locate_data_file().=
  This was supposed to go with r12942.

r12944 | chris | 2006-01-22 19:47:45 -0500 (Sun, 22 Jan 2006) | 3 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c

  Process gnome command-line arguments after our own, 
  so we can provide our own AUTOHELP.

r12943 | chris | 2006-01-22 19:46:22 -0500 (Sun, 22 Jan 2006) | 3 lines

   M /gnucash/trunk/src/scm/command-line.scm
   M /gnucash/trunk/src/scm/main.scm
   M /gnucash/trunk/src/scm/price-quotes.scm

  Remove processing of share-path from guile.
  This is now handled by Gnome's gnome_program_locate_file() function.

r12942 | chris | 2006-01-22 18:12:15 -0500 (Sun, 22 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/gnome/top-level.c
   M /gnucash/trunk/src/gnome-utils/gnc-gnome-utils.c
   M /gnucash/trunk/src/gnome-utils/gnc-gnome-utils.h
   M /gnucash/trunk/src/gnome-utils/gw-gnome-utils-spec.scm

 Initialize Gnome libraries before booting guile.

2006-01-22  David Hampton  <hampton@employees.org>

	* src/gnome/dialog-chart-export.c:
	* src/gnome/glade/chart-export.glade: More HIG changes.

	* src/gnome-utils/gnc-file.c: Add an icon to the export button in
	the generic filename dialog.

	* src/gnome-utils/glade/commodity.glade:
	* src/gnome/dialog-price-editor.c:
	* src/gnome/glade/progress.glade:
	* src/gnome/glade/price.glade:
	* src/gnome/dialog-price-edit-db.c: More HIG changes.

	* src/scm/printing/print-check.scm:
	* src/gnome/glade/print.glade:
	* src/gnome/schemas/Makefile.am:
	* src/gnome/schemas/apps_gnucash_dialog_common.schemas.in:
	* src/gnome/schemas/apps_gnucash_dialog_print_checks.schemas.in:
	* src/gnome/dialog-print-check.[ch]: Overhaul the print check
	dialog.  Make HIG changes, and make the dialog remember its state
	across invocations (including all the custom values).  Fix a crash
	when canceling printing.

	* src/register/ledger-core/dialog-dup-trans.c:
	* src/gnome-utils/dialog-account.c:
	* src/gnome-utils/glade/commodity.glade:
	* src/gnome-utils/glade/exchange-dialog.glade:
	* src/gnome/dialog-totd.c:
	* src/gnome/glade/stocks.glade:
	* src/gnome/glade/budget.glade:
	* src/gnome/glade/totd.glade:
	* src/gnome/glade/register.glade:
	* src/gnome/glade/account.glade:
	* src/gnome/druid-stock-split.c: More HIG changes.

	* src/gnome-utils/gnc-date-edit.[ch]:
	* src/gnome-utils/gnc-general-select.[ch]: Add support for setting
	these widgets as the target of a GtkLabel access key.

2006-01-21  David Hampton  <hampton@employees.org>

	* src/gnome-utils/gnc-amount-edit.c:
	* src/gnome/dialog-fincalc.c:
	* src/gnome/glade/fincalc.glade: Overhaul the financial calculator
	dialog.

2006-01-21  Derek Atkins  <derek@ihtfp.com>

	* src/bin/gnucash-bin.c:  update splash screen while loading modules.
	  Granted, this has no effect because the splash screen isn't
	  /UP/ when we're loading the modules.  But still, once we
	  initialize the gnome application earlier this will let us
	  update the splash screen.

	* src/app-utils/prefs.scm: replace an API needed by old scheme
	  config files.  It was removed in r11565.  Replace it now.

	* src/backend/file/io-example-account.c
	* src/backend/file/sixtp-utils.c
	* src/backend/file/sixtp.c
	* src/calculation/expression_parser.c
	* src/gnome-utils/gnc-date-edit.c
	* src/gnome-utils/gnc-menu-extensions.c
	* src/app-utils/gnc-ui-util.h
	* src/app-utils/gnc-ui-util.c
	* doc/Makefile.am
	* lib/libqof/qof/guid.c
	* lib/libqof/qof/gnc-date.c
	* lib/libqof/qof/gnc-engine-util.c
	* lib/libqof/qof/gnc-engine-util.h
	  Thomas Klausner's NetBSD patch.

	* src/bin/test/Makefile.am:
	  Need to add a PATH for the tests to succeed.

2006-01-21  David Hampton  <hampton@employees.org>

	* src/gnome-utils/*.glade: Move glade files to a new subdirectory.

	* src/gnome-utils/commodity.glade:
	* src/gnome-utils/exchange-dialog.glade:
	* src/gnome-utils/druid-provider-multifile.glade:
	* src/gnome-utils/dialog-commodity.c: HIG rework.

	* src/business/business-gnome/glade/billterms.glade:
	* src/business/dialog-tax-table/dialog-tax-table.c:
	* src/business/dialog-tax-table/tax-tables.glade: HIG rework on a
	couple of dialogs.

	* src/import-export/qif-import/qif.glade:
	* src/import-export/binary-import/binary-import.glade:
	* src/import-export/import-provider-format.glade:
	* src/import-export/hbci/glade/hbci.glade: Do some HIG cleanup.
	Remove extraneous newline characters from strings.

2006-01-21  Christian Stimming  <stimming@tuhh.de>

	* src/import-export/hbci/glade/hbci.glade: Add field length limits
	again to avoid data loss on text entry. 

2006-01-20  David Hampton  <hampton@employees.org>

	* src/register/register-gnome/gnucash-item-list.c: Glib 2.9
	requires GdkEvents to be marked as BOXED instead of POINTER.
	Fixes #326056.

2006-01-20  Derek Atkins  <derek@ihtfp.com>

	* src/bin/gnucash-bin.c: Load config.auto AND config.user files.
	  Load the .user file first, and then load the .auto.
	* src/scm/Makefile.am:  paths.scm was removed.
	
r12912 | chris | 2006-01-20 22:59:22 -0500 (Fri, 20 Jan 2006) | 3 lines

   M /gnucash/trunk/src/app-utils/gw-app-utils-spec.scm
   M /gnucash/trunk/src/engine/gw-engine-spec.scm
   M /gnucash/trunk/src/report/report-system/html-style-sheet.scm
   M /gnucash/trunk/src/report/report-system/report.scm
   M /gnucash/trunk/src/scm/command-line.scm
   M /gnucash/trunk/src/scm/main.scm
   D /gnucash/trunk/src/scm/path.scm

  Guile-side clean-up for --namespace option.
  Also one bit of uncommitted code from gwrap change.

r12911 | chris | 2006-01-20 22:50:25 -0500 (Fri, 20 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/core-utils/Makefile.am
   A /gnucash/trunk/src/core-utils/gnc-main.c
   A /gnucash/trunk/src/core-utils/gnc-main.h
   M /gnucash/trunk/src/engine/Makefile.am
   M /gnucash/trunk/src/engine/gnc-commodity.c
   M /gnucash/trunk/src/engine/gnc-commodity.h
   M /gnucash/trunk/src/engine/gw-engine-spec.scm
   M /gnucash/trunk/src/scm/price-quotes.scm

  Process the --namespace command-line option from C, not guile.

r12910 | chris | 2006-01-20 09:52:57 -0500 (Fri, 20 Jan 2006) | 1 line

   M /gnucash/trunk/src/gnome-utils/test/Makefile.am

Fix linking for src/gnome-utils/test/

r12909 | chris | 2006-01-20 00:19:15 -0500 (Fri, 20 Jan 2006) | 5 lines

   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/command-line.scm
   M /gnucash/trunk/src/scm/main.scm
   M /gnucash/trunk/src/scm/path.scm

  Move the loading of user and system config files from guile to C.

  Remove the "load config" command line options, since they weren't doing 
  anything different than the default. 

r12902 | chris | 2006-01-19 13:43:59 -0500 (Thu, 19 Jan 2006) | 3 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/gnome/top-level.h

  Remove "reverse_balance" fucntions from top-level.h.
  Add another #include for gnucash-bin.c

r12900 | chris | 2006-01-19 13:02:18 -0500 (Thu, 19 Jan 2006) | 4 lines

   M /gnucash/trunk/AUTHORS
   M /gnucash/trunk/src/engine/Account.c
   M /gnucash/trunk/src/engine/Account.h
   M /gnucash/trunk/src/gnome-utils/gnc-tree-model-account-types.c
   M /gnucash/trunk/src/gnome-utils/gnc-tree-model-account-types.h

  Filter out deprecated account types from the account types treemodel.

  Patch by Eskil Bylund <eskil.bylund@gmail.com>

r12899 | chris | 2006-01-19 12:58:02 -0500 (Thu, 19 Jan 2006) | 3 lines

   M /gnucash/trunk/src/app-utils/gncmod-app-utils.c
   M /gnucash/trunk/src/bin/gnucash-bin.c

  Add hooks just once in app_utils module init.  
  Also don't try to load imaginary module.

r12886 | chris | 2006-01-19 09:16:58 -0500 (Thu, 19 Jan 2006) | 2 lines

   M /gnucash/trunk/src/gnome/top-level.h

  add missing #include

r12882 | chris | 2006-01-19 00:54:16 -0500 (Thu, 19 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/main.scm

   Exit gnucash from C, not guile.

r12881 | chris | 2006-01-19 00:18:27 -0500 (Thu, 19 Jan 2006) | 2 lines

   M /gnucash/trunk/src/app-utils/app-utils.scm
   M /gnucash/trunk/src/app-utils/gncmod-app-utils.c

  move some app-util function hooks from guile to C

2006-01-19  David Hampton  <hampton@employees.org>

	* src/core-utils/gnc-gkeyfile-utils.[ch]:
	* src/app-utils/file-utils.c:
	* src/app-utils/gnc-exp-parser.c: Provide better arguments for
	specifying what to do when a key_file doesn't exist.

	* src/gnome-utils/gnc-main-window.c: Check for bogus window
	structures (i.e. empty) when reading/writing the state file.

2006-01-19  Derek Atkins  <derek@ihtfp.com>

	* src/business/business-gnome/dialog-invoice.c:
	  need to #include gkeyfile.h for glib24 systems
	* src/business/business-gnome/Makefile.am:
	  link against glib26 compatibility library.

2006-01-19  David Hampton  <hampton@employees.org>

	* src/business/business-gnome/dialog-invoice.c: Delete the invoice
	page completely when closing it.  Prevents a crash when trying to
	open a different data file is there is an invoice page in the
	window.

	* src/gnome-search/gnc-general-search.c: Finish the job. Make sure
	this component isn't unregistered multiple times.

2006-01-18  Derek Atkins  <derek@ihtfp.com>

	* src/bin/gnucash-bin.c:
	* src/gnome-utils/gnc-splash.c:
	  Always print the SVN version and build date.
	  Make "development version" based on GNUCASH_SVN
	* src/gnome-utils/Makefile.am:
	  Define GNUCASH_SVN whenever the source is not a dist tarball.

2006-01-18  David Hampton  <hampton@employees.org>

	* src/business/business-core/gncOwner.[ch]:
	* src/business/business-gnome/dialog-invoice.[ch]:
	* src/business/business-gnome/gnc-plugin-page-invoice.c:
	Save/restore business invoice pages.

	* src/app-utils/gnc-component-manager.c: Tweak a debugging
	statement.

	* src/gnome-search/gnc-general-search.c: Unregister this component
	properly when destroying it.

	* src/gnome-utils/gnc-query-list.c: The GtkObject destroy function
	can be called multiple times. Protect from unregistering the
	component multiple times.

2006-01-18  Joshua Sled  <jsled@asynchronous.org>

	* src/app-utils/gnc-account-merge.[ch]: C-style comment
	conventions; rename identifiers that are C++ keywords.

2006-01-18  Joshua Sled  <jsled@asynchronous.org>

	* src/gnome/gnc-plugin-page-account-tree.c
	(gnc_plugin_page_account_tree_create_widget): Remove name-editing
	callback setup.

2006-01-18  David Hampton  <hampton@employees.org>

	* All xxx.schemas files renamed to xxx.schemas.in.
	* All schema directory Makefile.am files replaced.
	* make-gnucash-potfiles.in: Now also pulls strings from schema
	files.  Together these fix bugs #327507 and #327353 which are
	about schema file strings not being translated.

2006-01-18  Joshua Sled  <jsled@asynchronous.org>

	* src/gnome/dialog-sx-from-trans.c (sxftd_update_fs): Propgate
	bi-weekly ui-frequency in transition from "schedule transaction"
	dialog to "Advanced..." (Scheduled Transaction Editor).
	Patch from Robert Zaleski <rzaleski81@yahoo.com>.
	<http://bugzilla.gnome.org/show_bug.cgi?id=327547>.

2006-01-18  Derek Atkins  <derek@ihtfp.com>

	* src/bin/Makefile.am:  Fix some srcdir/builddir issues
	  with #includes and libraries.
	* src/Makefile.am:  Move 'bin' last so that it's built
	  after gnome-utils so Chris' change works.

r12879 | chris | 2006-01-18 23:29:07 -0500 (Wed, 18 Jan 2006) | 3 lines

   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/command-line.scm
   M /gnucash/trunk/src/scm/main.scm

  Move "unstable development version" message from guile to C.
  Remove crufty guile command-line options.

r12874 | chris | 2006-01-18 21:34:23 -0500 (Wed, 18 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/main.scm

  dlopen() modules from C, instead of from guile

r12873 | chris | 2006-01-18 21:00:25 -0500 (Wed, 18 Jan 2006) | 2 lines

   M /gnucash/trunk/src/scm/main.scm

  The Parenthesis!  My favorite punctuation.

r12872 | chris | 2006-01-18 20:33:16 -0500 (Wed, 18 Jan 2006) | 4 lines

   M /gnucash/trunk/src/scm/command-line.scm
   M /gnucash/trunk/src/scm/main.scm
   M /gnucash/trunk/src/scm/path.scm

  Minor scheme cleanup.
  Move one function from path.scm to command-line.scm.
  Remove processing of arguments now handled in C.

r12868 | chris | 2006-01-18 20:26:21 -0500 (Wed, 18 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c

  Use popt to automatically generate pretty --usage and --help.

r12838 | chris | 2006-01-17 22:46:53 -0500 (Tue, 17 Jan 2006) | 3 lines

   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/gnucash-bin.c

  Catch --version argument before booting Guile.
  Also show svn revision info if binary was built from svn.

2006-01-17  Christian Stimming  <stimming@tuhh.de>

	* src/import-export/mt940/gnc-mt940-import.c: Add initial work on
	upgrading the old non-compilable mt940-importer code by
	F. Steinel. Code still non-compilable, see
	http://bugzilla.gnome.org/show_bug.cgi?id=325170

2006-01-17  Neil Williams <linux@codehelp.co.uk>

	* src/engine/gnc-engine.c : Removing .la from
	name of module to be loaded with GModule.

r12817 | chris | 2006-01-16 21:28:13 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/src/engine/test/test-lots.c

  sane indenting

r12816 | chris | 2006-01-16 21:26:16 -0500 (Mon, 16 Jan 2006) | 12 lines

   M /gnucash/trunk/src/bin/gnucash-bin.c
   M /gnucash/trunk/src/scm/main.scm

  Pull the C inner_main into the environment of the guile (gnucash
  main) module.

  Strangely, symbols that are resolved during a dlopen() *before* calling 
  scm_set_current_module() are not resolvable from guile code that is inside 
  a module. 

  In order for code in a guile module to see symbols from dlopen'ed libraries,
  they must be dlopen'ed *while* that guile module is current.  I imagine this
  is because the process of changing the current guile module purposely hides 
  all symbols in the current symbol table - to create an illusion of an empty
  table.  Kinda interesting... kinda scary...

r12815 | chris | 2006-01-16 20:42:46 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/overrides/Makefile.am

  Don't distribute non-existant 'gnucash'

r12372 | chris | 2006-01-16 16:17:48 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/GNOME2_STATUS

   update budget-related status

r12368 | chris | 2006-01-16 11:30:12 -0500 (Mon, 16 Jan 2006) | 5 lines

   M /gnucash/trunk/src/gnc-module/gnc-module.c
   M /gnucash/trunk/src/gnc-module/gnc-module.h
   M /gnucash/trunk/src/gnc-module/gnc-module.scm
   M /gnucash/trunk/src/gnc-module/gw-gnc-module-spec.scm
   M /gnucash/trunk/src/gnc-module/test/test-load-c.c

  Slight contraction of gnc-module API.

  Privatize structures that aren't used externally.  Remove unused functions. 

r12367 | chris | 2006-01-16 09:42:43 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/src/business/business-core/test/test-customer.c

  Register business objects before testing them.

r12366 | chris | 2006-01-16 09:24:57 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/lib/libgsf-1.12.3/tests/test-cp-zip.c

  Allow a libgsf test to pass even with glib 2.4.

r12365 | chris | 2006-01-16 00:30:34 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/test/Makefile.am

  Remove unneeded testing environments.

r12364 | chris | 2006-01-16 00:22:01 -0500 (Mon, 16 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/test/Makefile.am
   D /gnucash/trunk/src/bin/test/fake-guile
   D /gnucash/trunk/src/bin/test/test-guile-env-override

  Remove obsolete test for starting GnuCash with a different guile.


2006-01-16  Joshua Sled  <jsled@asynchronous.org>

	* lib/libgsf-1.12.3/thumbnailer/
	* lib/libgsf-1.12.3/Makefile.am: Remove unused 'thumbnailer'
	directory.

2006-01-16  Joshua Sled  <jsled@asynchronous.org>

	* src/register/register-gnome/gnucash-sheet.c
	(GTK_ALLOWED_SELECTION_WITHIN_INSERT_SIGNAL): Compatibility with
	gtk 2.8, as well, for selection of the auto-completed region.

2006-01-16  Derek Atkins <derek@ihtfp.com>

	* configure.in: us AM_PATH_GWRAP properly. Exit configure on failure.

2006-01-15  Derek Atkins  <derek@ihtfp.com>

	* src/gnome/dialog-new-user.c: some fixes to get file to compile.

2006-01-15  Joshua Sled  <jsled@asynchronous.org>

	* accounts/C/*: add placeholder flags for relevant accounts.
	
2006-01-15  Joshua Sled  <jsled@asynchronous.org>

	* src/gnome-utils/gnc-tree-view-account.c
	(gnc_tree_view_account_new_with_group):
	Record editable text columns in private data structure.
	(gtva_set_column_editor)
	(gtva_setup_column_renderer_edited_cb) 
	(gnc_tree_view_account_set_name_edited) 
	(gnc_tree_view_account_set_code_edited) 
	(gnc_tree_view_account_set_description_edited) 
	(gnc_tree_view_account_set_notes_edited):
	Add support for setting up column-edited callbacks.
	(gnc_tree_view_account_name_edited_cb) 
	(gnc_tree_view_account_code_edited_cb) 
	(gnc_tree_view_account_description_edited_cb) 
	(gnc_tree_view_account_notes_edited_cb):
	Provide stock editable-column handlers.

	* src/gnome/gnc-plugin-page-account-tree.c
	(gnc_plugin_page_account_tree_create_widget): Setup default
	editing callbacks for text columns.

	* src/app-utils/gnc-account-merge.[ch]: Non-ui-specific utility
	routines from account-hierarchy druid regarding account-hierarchy
	merge logic and constraints.

	* src/gnome/druid-hierarchy.c: Remove static variables describing
	dialog and dialog-in-interaction-with the druid-merge.c code.
	(gnc_create_hierarchy_druid, get_final_balance)
	(set_final_balance): simplify to Map<Account*,
	balance:gnc_numeric*>, which is more tolerant of Account-name
	changes.
	(gnc_ui_hierarchy_druid_with_callback): Add callback support for
	caller to have calling-specific work done.
	(use_existing_account_data_func): Conditionally add column
	detailing the status of how this new hierarchy merges into the
	existing one.
	(on_final_account_next): Check to ensure there are no
	account-hierarchy merge conflicts before allowing Next to final
	page.
	(balance_cell_data_func): Add new subtlety around opening-balance
	editing in the face of hierarachy-merging.
	(on_finish): Reorder dialog finishing to work around account-tree
	model bug, starting-balance-transaction creation, data-merging,
	when-completed callback creation.
	(gnc_ui_hierarchy_druid_hook): Add callback to create new
	account-page as consequence of new-file hook run.

	* src/gnome/dialog-new-user.c (after_hierarchy_druid): Create+use
	callback for new-user-dialog specific code.

	* src/gnome/glade/account.glade: Change "opening balances" page
	title, default dialog positioning hint (from none to parent-center).

	* src/gnome/druid-merge.[ch]
	(gnc_ui_qof_book_merge_druid): Remove hierarchy-druid wrapper.
	: remove un-used qof_book_merge_druid.

	* accounts/C/*: Add placeholder flag on relevant accounts.

r12363 | chris | 2006-01-15 22:23:35 -0500 (Sun, 15 Jan 2006) | 2 lines

   M /gnucash/trunk/src/bin/test/test-version

  Fix src/bin/test/test-version for new gnucash executable.

r12362 | chris | 2006-01-15 21:43:56 -0500 (Sun, 15 Jan 2006) | 6 lines

   M /gnucash/trunk/lib/libqof/backend/file/Makefile.am

   Specify that LIBADD libraries are for libqof_backend_qsf.la.
   Solves:
      libqof-backend-qsf.so: undefined symbol: xmlNodeGetContent

      error during `make check'

r12351 | chris | 2006-01-14 00:47:17 -0500 (Sat, 14 Jan 2006) | 5 lines

   M /gnucash/trunk/src/business/dialog-tax-table/Makefile.am

   Declare library dependency for dialog-tax-table.

   libtool 1.5.16 seems to not mind the dependency being undeclared but
   libtool 1.5.6 on FC3 won't lt_dlopen() the .la file without it.

r12350 | chris | 2006-01-13 22:56:53 -0500 (Fri, 13 Jan 2006) | 4 lines

   M /gnucash/trunk/configure.in
   M /gnucash/trunk/doc/Makefile.am
   M /gnucash/trunk/lib/libc/Makefile.am
   M /gnucash/trunk/lib/libqof/backend/file/Makefile.am
   M /gnucash/trunk/src/bin/Makefile.am
   M /gnucash/trunk/src/bin/overrides/Makefile.am
   M /gnucash/trunk/src/gnome/Makefile.am
   M /gnucash/trunk/src/gnome-utils/Makefile.am
   M /gnucash/trunk/src/quotes/Makefile.am

  Add 'Makefile' as a dependency for targets that are generated
  from scriptlets in Makefile.  That way, if the generating scriptlet is
  changed, (or the Makefile is regenerated) the target will also be remade.

r12339 | chris | 2006-01-13 00:13:05 -0500 (Fri, 13 Jan 2006) | 2 lines

   M /gnucash/trunk/Makefile.am
   M /gnucash/trunk/configure.in
   M /gnucash/trunk/lib/libqof/qof/Makefile.am
   M /gnucash/trunk/src/Makefile.am
   M /gnucash/trunk/src/bin/Makefile.am

  Various fixes to allow `make dist` and building from tarball.

2006-01-13  Derek Atkins  <derek@ihtfp.com>

	* src/gnome-utils/Makefile.am: revert 12296 and handle the
	  case of an svn checkout without .svn subdirs (gentoo ebuild).
	  In particular, we want to use $(srcdir)/gnc-svninfo.h
	  so that a build from a dist tarball has the svn version.

	* src/bin/overrides/gnucash
	* src/bin/overrides/gnucash-valgrind
	* src/bin/overrides/Makefile.am:
	  remove unnecessary override files that are no longer useful.

	* goffice/*/Makefile.am:
	* libgsf/*/Makefile.am:
	  don't install goffice and gsf headers.

	* configure.in: Properly set QOF_LIB_DIR et. al. for internal qof.

	* lib/libqof/qof/Makefile.am: qofla-dir.h depends on Makefile.
	  Make sure you rebuild qofla-dir.h when the Makefile changes,
	  which would imply re-configuration.  You never know, the
	  user might have changed --prefix which means you want to
	  rebuild the header.

2006-01-13  Neil Williams <linux@codehelp.co.uk>

	* src/bin/test/test-version : Using Derek's fix to
	resolve the test failure.

2006-01-13  Derek Atkins  <derek@ihtfp.com>

	* src/bin/overrides/gnucash-build-env.in:
	  Change core-utils to a gnc-module-dir so it loads both
	  the .scm and the .so properly.

r12338 | chris | 2006-01-12 21:05:51 -0500 (Thu, 12 Jan 2006) | 10 lines

   M /gnucash/trunk/ChangeLog
   M /gnucash/trunk/ChangeLog.2005

  ChangeLog entries from svn for past 12 days.

  Hmm... A commit message for my commit messages... what to write?
  Using this, format which is much closer to svn log, saved some time.  
  This commit took about 10 min to prepare, and I estimate it would have 
  taken another 20 to format like my last entries.  The main effort is 
  moving the messages off of column 0.  I suspect that the non-uniform 
  entry style might start to bother me enough to look at the xslt again.  
  We'll see.

r12337 | chris | 2006-01-12 20:25:12 -0500 (Thu, 12 Jan 2006) | 5 lines

   M /trunk/src/app-utils/Makefile.am
   M /trunk/src/app-utils/gnc-gettext-util.c
   M /trunk/src/app-utils/gnc-gettext-util.h
   M /trunk/src/app-utils/gw-app-utils-spec.scm
   D /trunk/src/app-utils/i18n.h.in
   M /trunk/src/bin/Makefile.am
   M /trunk/src/bin/gnucash-bin.c
   A /trunk/src/bin/i18n.h.in (from /trunk/src/app-utils/i18n.h.in:12334)
   M /trunk/src/scm/main.scm

   Move gnu-module init and gettext init from scm to C.
   Move i18n.h.in from src/app-utils to src/bin, where it is used.
   Remove unneeded gettext init code in src/app-utils

r12330 | chris | 2006-01-12 16:26:01 -0500 (Thu, 12 Jan 2006) | 6 lines

   M /trunk/src/backend/file/gnc-account-xml-v2.c
   M /trunk/src/backend/file/test/test-real-data.sh
   M /trunk/src/backend/file/test/test-xml-account.c

   Don't let deprecated tags overwrite data from newer tags.
   Avoid testing for match of deprecated tags.
   Warn about deprecated tags not being preserved.
   Plug another leak in test case.
   Make successful test-xml-account less verbose.

r12329 | chris | 2006-01-12 16:22:03 -0500 (Thu, 12 Jan 2006) | 3 lines

   M /trunk/src/backend/file/test/test-file-stuff.c

   Avoid creating new xml parser for each test file.
   This plugs a mem leak in the test case.

2006-01-12  David Hampton  <hampton@employees.org>

	* src/gnome-utils/gnc-tree-view-account.c: Remove the unnecessary
	explicit removal of the tree model and let the core GtkTreeView
	code do its thing.  Prevents a weird crash when canceling the
	transfer code.

2006-01-12  Derek Atkins  <derek@ihtfp.com>

	* configure.in:  add --enable-qof so build defaults to internal qof.

	* configure.in: fixes to make configure more quiet
	  - move PKG_CONFIG check early in the process
	  - use --silence-errors more
	* macros/pkg.m4: work around a pkg-config bug that outputs
	  errors to stderr even when you tell it to output to stdout.

2006-01-10  David Hampton  <hampton@employees.org>

	* src/gnome-utils/gnc-gnome-utils.c:
	* src/gnome-utils/dialog-utils.c: A couple of simple substitutions
	for deprecated functions.

	* src/gnome-utils/dialog-options.c: Use newer function for setting
	the width of a GtkSpinButton.

	* src/network-utils/Makefile.am:
	* src/gnome-utils/gnc-html.c:
	* src/gnome/top-level.c: The gnucash gpg networking code isn't
	called from anywhere.  No need to compile it as part of the build.

	* src/register/register-gnome/gnucash-cursor.c:
	* src/register/register-gnome/gnucash-item-edit.c:
	* src/register/register-gnome/gnucash-grid.c:
	* src/register/register-gnome/gnucash-header.c:
	* src/gnome-utils/gnc-dense-cal.c:
	* src/gnome-utils/gnc-main-window.c:
	* src/gnome-utils/dialog-utils.c:
	* src/gnome-utils/dialog-options.c: Replace deprecated functions
	with their current equivalent.

2006-01-10  Derek Atkins  <derek@ihtfp.com>

	* make-gnucash-potfiles.in: ignore dangling symlinks when
	  building po/POTFILES.in

2006-01-10  Christian Stimming  <stimming@tuhh.de>

	* accounts/nb/*, configure.in: Add account templates for Norwegian
	(Bokmal) language; by Tor Harald Thorland <linux@strigen.com>; not
	fully functional so far.

r12322 | chris | 2006-01-10 23:39:12 -0500 (Tue, 10 Jan 2006) | 2 lines

   M /trunk/src/engine/Account.c

   Factor-out cut-n-paste job from xaccCloneAccount{Simple}.

r12321 | chris | 2006-01-10 23:30:20 -0500 (Tue, 10 Jan 2006) | 3 lines

   M /trunk/src/engine/Account.c

   Convert account name, code and description to use string cache.
   Plus minor comments and tweaks.

r12319 | chris | 2006-01-10 23:27:02 -0500 (Tue, 10 Jan 2006) | 2 lines

   M /trunk/lib/libqof/qof/gnc-engine-util.h

   Add CACHE_REPLACE(dst, src) macro for common case in string setters.

r12316 | chris | 2006-01-10 21:58:59 -0500 (Tue, 10 Jan 2006) | 2 lines

   M /trunk/src/engine/gnc-commodity.c

   Convert gnc-commodity to use vanilla string cache macros.

r12315 | chris | 2006-01-10 21:56:02 -0500 (Tue, 10 Jan 2006) | 3 lines

   M /trunk/lib/libqof/qof/gnc-engine-util.c
   M /trunk/lib/libqof/qof/gnc-engine-util.h

   Add const to gnc_string_cache_insert argument.
   Handle NULL values gracefully.

r12313 | chris | 2006-01-10 21:19:42 -0500 (Tue, 10 Jan 2006) | 2 lines

   M /trunk/src/engine/test/test-date.c

   Add commented-out test case demonstrating lack of year 2038 support.

r12311 | chris | 2006-01-10 16:42:55 -0500 (Tue, 10 Jan 2006) | 2 lines

   M /trunk/src/engine/gnc-commodity.c

   Plug memory leak of gnc_commodity_namespace->QofInstance; found w/ valgrind.

r12308 | chris | 2006-01-09 16:06:45 -0500 (Mon, 09 Jan 2006) | 2 lines

   M /trunk/src/engine/test/test-date.c

   Avoid testing dates near or after 2038, because the qof parsing
   functions fail.

r12306 | chris | 2006-01-08 22:33:46 -0500 (Sun, 08 Jan 2006) | 2 lines

   M /trunk/src/app-utils/gnc-ui-util.c
   M /trunk/src/app-utils/test/test-print-parse-amount.c

   Don't test numeric parsing for numbers that overflow, we'd fail.

2006-01-08  David Hampton  <hampton@employees.org>

	* src/gnome-utils/dialog-options.c: Add a button to clear the name
	of the currently selected file in a file chooser.

	* src/register/register-gnome/gnucash-item-list.c:
	* src/import-export/hbci/dialog-hbcitrans.c: The GTK2.4 headers
	are missing a named constant.

	* lib/goffice-0.0.4/goffice/glib24_26-compat.c: Fix a couple of
	compiler version issues.

2006-01-08  Derek Atkins  <derek@ihtfp.com>

	* Makefile.am: fix the dist-hook macro for po/POTFILES.in

2006-01-08  Neil Williams <linux@codehelp.co.uk>

	* src/import-export/qif-import/test/Makefile.am : OSX fix.
	* po/en_GB.po : (To assist the TP project,
	with help from Nigel Titley, GNU translator.)
	Remaining: 92 fuzzy translations, 1 untranslated message
	* . : Adding *.prj.bak to svn:ignore.

2006-01-08  Neil Williams <linux@codehelp.co.uk>

	* src/engine/Transaction.c : Even up ENTER and LEAVE
	calls.
	* src/gnome-utils/druid-gconf-setup.c : Typo fix.
	* src/gnome-utils/gnc-tree-model-budget.h : Doxygen tweak.
	* src/gnome/gnc-plugin-budget.c : Match ENTER with LEAVE
	* src/gnome/gnc-plugin-page-budget.h : Doxygen tweak.

2006-01-08  Christian Stimming  <stimming@tuhh.de>

	* src/gnome-utils/gnc-main-window.c: Add gnc workaround function
	for errorneous gtk_action_group_set_translation_domain. Fixes the
	statusbar-tooltip error mentioned on 2006-01-07. Filed in gtk as
	bug#326200.

2006-01-07  David Hampton  <hampton@employees.org>

	* src/report/standard-reports/account-summary.scm: Copy the table
	markup from an intermediate table to the final displayed table.
	
	* src/report/report-system/html-acct-table.scm: When building a
	html table from an account tree, apply markup to the "total" lines
	so that they use the right stylesheet colors.

	* src/report/standard-reports/portfolio.scm:
	* src/report/standard-reports/advanced-portfolio.scm: Fix the
	"share decimal places" option.

2006-01-07  Christian Stimming  <stimming@tuhh.de>

	* src/gnome/gnc-plugin-page-register.c,
	src/report/report-gnome/gnc-plugin-page-report.c: Add more
	tooltips to actions.

	* src/gnome-utils/gnc-main-window.c: Add display of a GtkAction's
	tooltip in the statusbar when the mouse is selection its menu
	item. Code copied from gtk+'s test/testmerge.c. Works fine, except
	that in non-C locales some "" tooltips are translated in a weird
	way. Maybe because "" is errorneously passed through gettext(),
	which will accidentally catch a wrong string from the po
	files. This needs to be fixed.

	* src/report/report-gnome/gnc-plugin-page-report.c: Rename "Save
	report" menu item to "Add report" according to IRC discussion with
	warlord.
	
	* autogen.sh: Move code from macros/autogen.sh to here to make it
	more obvious what happens. Add checks for all programs that are
	called, fixes bug#325721. However in principle the code wasn't
	changed, only cleaned up.

2006-01-07  David Hampton  <hampton@employees.org>

	* src/business/business-gnome/dialog-order.c:
	* src/business/business-gnome/dialog-date-close.c:
	* src/gnome-utils/gnc-druid-provider-file-gnome.[ch]: Remove some
	deprecated gnome functions.

	* src/bin/gnucash-valgrind.in:
	* src/bin/Makefile.am: Add a script to invoke the new gnucash.bin
	executable via valgrind.

	* src/gnome/window-main-summarybar.c: Performance enhancements.
	Remove the model from the combo box before clearing and
	repopulating it.

2006-01-06  David Hampton  <hampton@employees.org>

	* src/import-export/hbci/dialog-hbcitrans.[ch]: 
	* src/import-export/hbci/glade/hbci.glade:
	* src/import-export/hbci/gnc-hbci-transfer.c: Make the HBCI
	Transfer dialog work again using a GtkListStore.

r12278 | chris | 2006-01-06 17:28:38 -0500 (Fri, 06 Jan 2006) | 2 lines

   M /trunk/src/app-utils/gnc-ui-util.c
   M /trunk/src/app-utils/gnc-ui-util.h

   Fix floating point exception by checking for overflow.

r12273 | chris | 2006-01-06 16:31:22 -0500 (Fri, 06 Jan 2006) | 10 lines

   M /trunk/Makefile.am

   Fixes for `make check' in toplevel Makefile.am.

   Conditionally add symlink from ./gsf to ./lib/libgsf-1.12.3/gsf.

   Also, silence warning:
     /usr/share/automake-1.9/am/tags.am: ctags was already defined in
     condition !GNC_CTAGS_FILE, which is included in condition TRUE ...
     Makefile.am:138: ... `ctags' previously defined here

   and avoid possible `make dist' failure by added po/POTFILES.in to
   dist-hook.

r12271 | chris | 2006-01-05 21:49:27 -0500 (Thu, 05 Jan 2006) | 8 lines

   M /trunk/Makefile.am
   D /trunk/po/POTFILES.in

   Yet more build tweaks for .pot file generation.

   Remove po/POTFILES.in (again) from svn.  Since po/POTFILES.in is added
   to BUILT_SOURCES, it's auto-generated now whenever the `make all',
   `make check', or `make install' targets are processed, (but not
   recreated every time).  And `make pot' forces the recreation of
   po/POTFILES.in.  Hopefully, this will works even on OSX.

2006-01-04  David Hampton  <hampton@employees.org>

	* src/gnome-utils/ui/gnc-main-window-ui.xml:
	* src/gnome-utils/gnc-main-window.c: Add in some conditionally
	compiled hooks for turning callgrind on/off via the menus.

	* src/gnome/gnc-plugin-page-account-tree.c: Consolidate some
	common functionality.

	* src/register/register-gnome/combocell-gnome.c:
	* src/register/register-gnome/gnucash-item-list.[ch]:
	* src/register/ledger-core/split-register-load.c:
	* src/register/register-core/combocell.h: Load the entire data set
	into the combocell before enabling sorting.  Saves a tremendous
	amount of time.
	
	* src/backend/file/gnc-transaction-xml-v2.c:
	* lib/libqof/qof/gnc-numeric.c: A couple of performance tweaks.

r12252 | chris | 2006-01-03 18:49:39 -0500 (Tue, 03 Jan 2006) | 5 lines

   M /trunk/src/bin/Makefile.am
   A /trunk/src/bin/gnucash-bin.c
   A /trunk/src/bin/gnucash.in

   Invert the program entry point.

   'gnucash' is now a shell script that calls the executable
   'gnucash-bin' which uses libguile to load guile modules.

2006-01-03  Joshua Sled  <jsled@asynchronous.org>

	* gnc-sxed-window-ui.xml: Remove unreferenced `TransactionAction`.

	* dialog-sxsincelast.c (sxsld_disposition_changed): change the
	assertion into a simple return-if-fail due to apparent change in
	the calling order in gtk 2.x...

2006-01-03  David Hampton  <hampton@employees.org>

	* src/engine/Transaction.c: When setting the amount of a split,
	don't call gnc_numeric_convert on it if the split isn't assigned
	to an account. This reduces the time spent loading a data file.

	* src/business/business-gnome/glade/invoice.glade: Couple the
	radio buttons in the unpost dialog.

	* src/gnome/top-level.c:
	* src/gnome/dialog-totd.c:
	* src/gnome/glade/totd.glade: Revert the previous change and make
	the totd always float above all other GnuCash windows.

2006-01-02  David Hampton  <hampton@employees.org>

	* src/gnome/dialog-totd.c: Use the component manager to ensure
	there is only one totd dialog at a time.  Don't mark the dialog as
	transient (or type GTK_WINDOW_DIALOG) so that window managers
	won't make it float above all other GnuCash windows.

	* src/engine/Transaction.c: Fix test inverted by commit 12231.

	* src/gnome-utils/Makefile.am
	* src/gnome-utils/gnc-tree-model-example-account.[ch]: Remove
	unused files.

	* src/gnome/glade/account.glade:
	* src/gnome/druid-hierarchy.c: Use a GtkListStore for the example
	account categories instead of layering a custom selection model on
	a custom example account model.  The code is a lot simpler and has
	additional sorting capability. Do some rework on the druid
	layout.

	* src/gnome-utils/gnc-tree-model-selection.[ch]: Correct function
	name.  Add a comment.

2006-01-02  Derek Atkine  <derek@ihtfp.com>

	* src/gnome-utils/gnc-tree-view-account.c:
	* src/gnome/gnc-plugin-page-budget.c:
	  need to #include gkeyfile.h if we don't have glib26.

2006-01-02  David Hampton  <hampton@employees.org>

	* src/gnome-utils/gnc-tree-view.c: Use the right function to hide
	a tree column. Update a couple of debugging messages.

	* src/engine/gw-engine-spec.scm:
	* src/engine/gnc-commodity.[ch]: Initialize the qof instances in
	commodity namespaces.

r12232 | chris | 2006-01-01 19:37:02 -0500 (Sun, 01 Jan 2006) | 2 lines

   D /trunk/src/gnome/gncmod-budget.c

   Delete unused gncmod-budget.c.

r12231 | chris | 2006-01-01 17:26:15 -0500 (Sun, 01 Jan 2006) | 9 lines

   M /trunk/src/engine/Transaction.c
   M /trunk/src/engine/Transaction.h

  General clean-up in Transaction.[ch].

    * Regularization of 'trans' as variable name.
    * Whitespace and linewraps
    * lots of control-flow simplification
    * factor one chunk out into get_any_account()
    * Comment some things that are bogus or need improvement
	
