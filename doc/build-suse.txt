How to install gnucash on SuSE
==============================
(written 2000-01-07 by Peter Pointner <peter@wuzel.m.isar.de>)
(last changed 2002-08-08 by Herbert Thoma (herbie@hthoma.de))

Notes:

- This is only one way to get GnuCash running on SuSE. I did test
  that, but there might be errors anyway, and of course you do all at
  your own risk. If you find errors, you might report them to the
  gnucash mailing list (gnucash-devel@gnucash.org)

- This is for SuSE 7.2, 7.3 and 8.0 (Intel). Earlier SuSE 
  distributions lack some required packages. Later SuSE distributions 
  didn't exist at the time of writing.
  NOTE: You can install new packages to older versions of SuSE from
        CD or ftp.suse.de or ftp.suse.com

- This howto is primarily intended for compiling from source.
  If you install the rpm, you don't need the various dev packages
  (However, you won't see this howto until you installed the 
  GnuCash rpm succesfully ;-).)

- The current stable version is gnucash-1.6.x,
  the current development version is gnucash-1.7.x.

Let's go:

* Make sure you have a running system, including X and gnome
  (and don't forget the development packages)

* Download g-wrap from
    ftp://ftp.gnucash.org/pub/g-wrap/
  For the 1.6.x version you need g-wrap-1.2.1
  unpack and untar, then
  ./configure, make, su, make install

  For the 1.7.x version you need g-wrap-1.3.2
  g-wrap-1.2 and g-wrap-1-3 are NOT compatible. If you want to
  use both the stable and the development version of GnuCash
  see the notes at the end of this file.

* Download GnuCash
  stable version:
    http://www.gnucash.org/pub/gnucash/sources/stable/gnucash-1.6.x.tar.gz
  development version:
    http://www.gnucash.org/pub/gnucash/sources/unstable/
  and unpack it
    tar xzf gnucash-1.y.x.tar.gz
* Alternatively get GnuCash from cvs
    cvs -d :pserver:cvs@cvs.gnucash.org:/home/cvs/cvsroot login (password guest)
    cvs -d :pserver:cvs@cvs.gnucash.org:/home/cvs/cvsroot checkout gnucash
    (this will get you the latest development version)

* The lib directory contains packages that are needed to build GnuCash
  but are not widely available yet. Read the file lib/README for details.

* Make symbolic link for every file in /opt/gnome/share/aclocal
  to /usr/share/aclocal (or tell me how to modify the automake setup
  so that it looks in /opt/gnome/share/aclocal for input ;-))

* Configure, build and install gnucash. Installation must probably be
  done as root, the files go to various places in /usr/local.

    cd gnucash-1.y.x
    ./autogen.sh
    make
    su root -c "make install"

  To build GnuCash 1.7.x you need to add the argument --host=i686-pc-linux-gnu
  to the autogen.sh command (at least with SuSE 8.0).

* You may need to run GnuCash once as root, because guile needs to set up
  some things for slib. Alternatively you can try as root:
    guile -c "(use-modules (ice-9 slib)) (require 'new-catalog)"

* If want to send a patch, you need the makepatch perl module, which can
  be found at:
    ftp://ftp.cpan.org/pub/CPAN/authors/Johan_Vromans/makepatch-2.00a.tar.gz
  unpack and untar, then
  perl Makefile.PL, make, su, make install


Installing GnuCash 1.6 and 1.7 to one system:
---------------------------------------------

It is quite tricky to have the stable and development versions of
GnuCash running on one system, because they need incompatible
versions of g-wrap (1.2.1 resp. 1.3.2).

On my system I have GnuCash 1.6.x and g-wrap-1.2.1 installed in the
usual location (/usr/local/).

GnuCash 1.7.x is installed in /opt/gnucash/test_install/cvs_head
g-wrap-1.3.2 is installed in /opt/gnucash/g-wrap-latest

To compile GnuCash 1.7.x I do:

export PATH=/opt/gnucash/g-wrap-latest/bin:$PATH
export LD_LIBRARY_PATH=/opt/gnucash/g-wrap-latest/lib:$LD_LIBRARY_PATH

./autogen.sh --prefix=/opt/gnucash/test_install/cvs_head 
 --with-g-wrap-prefix=/opt/gnucash/g-wrap-latest --host=i686-pc-linux-gnu

make
